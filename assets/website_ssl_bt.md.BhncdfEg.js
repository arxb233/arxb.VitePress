import{_ as a,c as s,j as e,a as o,G as c,a4 as i,o as d,C as p}from"./chunks/framework.DBf_wRcB.js";const n="/ssl/bt/bt-01.png",r="/ssl/bt/bt-02.png",b="/ssl/bt/bt-03.png",m="/ssl/bt/bt-04.png",g="/ssl/bt/bt-05.png",u="/ssl/bt/bt-06.png",_="/ssl/bt/bt-07.png",h="/ssl/bt/bt-08.png",y="/ssl/bt/bt-09.png",x="/ssl/bt/bt-10.png",w="/ssl/bt/bt-11.png",k="/ssl/bt/bt-12.png",S="/ssl/bt/bt-13.png",T="/ssl/bt/bt-14.png",z="/ssl/bt/bt-15.png",f="/ssl/bt/bt-16.png",P="/ssl/bt/bt-17.png",D="/ssl/bt/bt-18.png",N="/ssl/bt/bt-19.png",q="/ssl/bt/bt-20.png",v="/ssl/bt/bt-21.png",A="/ssl/bt/bt-22.png",I=JSON.parse('{"title":"宝塔面板申请SSL证书","description":"","frontmatter":{},"headers":[],"relativePath":"website/ssl/bt.md","filePath":"website/ssl/bt.md","lastUpdated":null}'),L={name:"website/ssl/bt.md"};function H(X,t,C,V,$,B){const l=p("ArticleMetadata");return d(),s("div",null,[t[0]||(t[0]=e("h1",{id:"宝塔面板申请ssl证书",tabindex:"-1"},[o("宝塔面板申请SSL证书 "),e("a",{class:"header-anchor",href:"#宝塔面板申请ssl证书","aria-label":'Permalink to "宝塔面板申请SSL证书"'},"​")],-1)),c(l),t[1]||(t[1]=i('<h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>宝塔大家都很熟了，不再做介绍了，它的SSL证书申请是最傻瓜式的了</p><p>官网：<a href="https://www.bt.cn/" target="_blank" rel="noreferrer">https://www.bt.cn/</a></p><p><img src="'+n+'" alt="" loading="lazy"></p><h2 id="免费方案" tabindex="-1">免费方案 <a class="header-anchor" href="#免费方案" aria-label="Permalink to &quot;免费方案&quot;">​</a></h2><ul><li><p>证书数量：无限制</p></li><li><p>有效期：90天</p></li><li><p>通配符/泛解析：支持</p></li><li><p>验证方式：HTTP文件验证、DNS验证</p></li><li><p>自动续签：支持</p></li></ul><details class="details custom-block"><summary>什么是 通配符 和 泛解析</summary><ul><li><p>通配符 <code>*</code>：是泛解析的一个必用字符，用来表示当前级</p></li><li><p>通配符证书：可以多个二级域名或三级域名共用一个证书，只需要申请一张即可</p></li></ul><table tabindex="0"><thead><tr><th style="text-align:center;">域名/示例</th><th style="text-align:center;">泛解析</th><th style="text-align:center;">包含</th><th style="text-align:center;">不包含</th></tr></thead><tbody><tr><td style="text-align:center;">一级域名</td><td style="text-align:center;">❌</td><td style="text-align:center;">baidu.com</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">二级域名</td><td style="text-align:center;">*.baidu.com</td><td style="text-align:center;">baike.baidu.com<br>www.baidu.com<br>...</td><td style="text-align:center;">baidu.com</td></tr><tr><td style="text-align:center;">三级域名</td><td style="text-align:center;">*.bce.baidu.com</td><td style="text-align:center;">login.bce.baidu.com<br>h5.bce.baidu.com<br>...</td><td style="text-align:center;">*.baidu.com<br>bce.baidu.com</td></tr><tr><td style="text-align:center;">依次类推</td><td style="text-align:center;">...</td><td style="text-align:center;">...</td><td style="text-align:center;">...</td></tr></tbody></table></details><h2 id="申请与部署" tabindex="-1">申请与部署 <a class="header-anchor" href="#申请与部署" aria-label="Permalink to &quot;申请与部署&quot;">​</a></h2><p>进入宝塔面板，选择要申请证书的站点 - SSL - <code>Let&#39;s Encrypt</code></p><details class="details custom-block"><summary>宝塔的 文件验证 和 DNS验证（支持通配符）的区别</summary><ul><li><p>文件验证：通过服务器的HTTP文件验证，仅支持单域名</p></li><li><p>DNS验证：通过域名解析验证，支持单域名、多域名、通配符</p></li><li><p>通配符：也就是泛解析，可以一级域名和所有二级域名，共用一个证书，非常省事</p></li></ul></details><p><img src="'+r+'" alt="" loading="lazy"></p><h3 id="文件验证" tabindex="-1">文件验证 <a class="header-anchor" href="#文件验证" aria-label="Permalink to &quot;文件验证&quot;">​</a></h3><p>如果你是二级域名，可以直接使用 <code>文件验证</code></p><p><img src="'+b+'" alt="" loading="lazy"></p><p>方便又快速，申请完成后会自动填写，记得保存和开启 <code>强制HTTPS</code></p><p><img src="'+m+'" alt="" loading="lazy"></p><h3 id="dns验证-推荐" tabindex="-1">DNS验证（推荐） <a class="header-anchor" href="#dns验证-推荐" aria-label="Permalink to &quot;DNS验证（推荐）&quot;">​</a></h3><p>如果你是一级域名，强烈安利 <code>DNS验证（支持通配符）</code></p><details class="details custom-block"><summary>手动解析</summary><p>DNS接口我们选择 <code>手动解析</code>，建议勾选 <code>自动组合泛域名</code>，勾选域名，申请</p><div class="tip custom-block"><p class="custom-block-title">说明</p><ul><li><p>域名：勾选要申请的域名，比如 <code>baidu.com</code>（如勾选 <code>自动组合泛域名</code>，此项仅勾选一级域名）</p></li><li><p>自动组合泛域名：建议勾选，示例为 <code>*.baidu.com</code>，表示包含所有的二级域名</p></li><li><p>域名+泛域名：表示一级域名和所有二级域名共用一张证书，非常省事</p></li></ul><hr><ul><li>特例：如果你把 <code>www.baidu.com</code> 二级域名作为主域名，那么你的泛域名就是三级泛解析 <code>*.www.baidu.com</code>，以此类推</li></ul></div><p><img src="'+g+'" alt="" loading="lazy"></p><p>根据提示到DNS处，添加一条 TXT 和 CAA（可选）</p><div class="warning custom-block"><p class="custom-block-title">特别注意！这里的TXT值，只需要复制 <code>域名前部分</code></p><ul><li><p>一级域名申请：比如解析值是 <code>_acme-challenge.baidu.com</code>，你只需要 <code>_acme-challenge</code></p></li><li><p>二级域名申请：比如解析值是 <code>_acme-challenge.baike.baidu.com</code>，你只需要 <code>_acme-challenge.baike</code></p></li></ul></div><p><img src="'+u+'" alt="" loading="lazy"></p><p>我的域名在 <a href="https://www.dnspod.cn/" target="_blank" rel="noreferrer">腾讯云的DNSPod</a>，依次添加 <code>TXT记录</code> 和 <code>CAA记录</code></p><p>复制值的时候注意前面有没有空格</p><p><img src="'+_+'" alt="" loading="lazy"></p><p><img src="'+h+'" alt="" loading="lazy"></p><p>回到宝塔，点击验证</p><details class="details custom-block"><summary>验证失败?</summary><p>该帐户1小时内失败的订单次数超过5次，请等待1小时再重试!</p><ul><li><p>问题：检查TXT记录，是否复制填写错误，包含了域名</p></li><li><p>解决：重新点击申请，生成新的TXT记录，去DNS解析处修改成新的即可</p></li></ul></details><p><img src="'+y+'" alt="" loading="lazy"></p><p>验证成功后，开始发放证书</p><p><img src="'+x+'" alt="" loading="lazy"></p><p>点击保存，并开启 <code>强制HTTPS</code></p><p><img src="'+w+'" alt="" loading="lazy"></p><p>打开网站已经有小锁了，顺便查看证书</p><p><img src="'+k+'" alt="" loading="lazy"></p></details><details class="details custom-block"><summary>自动解析</summary><p>我的域名在 <a href="https://www.dnspod.cn/" target="_blank" rel="noreferrer">腾讯云的DNSPod</a>，我就使用 <code>DnsPod</code> 演示</p><p><img src="'+S+'" alt="" loading="lazy"></p><p>在DnsPod后台 - 用户 - API密钥 - DnsPod Token，创建密钥</p><p><img src="'+T+'" alt="" loading="lazy"></p><p>名称随便输吧</p><p><img src="'+z+'" alt="" loading="lazy"></p><p>这里的 <code>ID</code> 和 <code>Token</code> 分别复制过去，token只显示一次</p><p><img src="'+f+'" alt="" loading="lazy"></p><p>粘贴到宝塔后，点保存</p><p><img src="'+P+'" alt="" loading="lazy"></p><p>再次选择好 <code>DnsPod</code> ，建议勾选 <code>自动组合泛域名</code>，勾选域名，申请</p><div class="tip custom-block"><p class="custom-block-title">说明</p><ul><li><p>域名：勾选要申请的域名，比如 <code>baidu.com</code>（如勾选 <code>自动组合泛域名</code>，此项仅勾选一级域名）</p></li><li><p>自动组合泛域名：建议勾选，示例为 <code>*.baidu.com</code>，表示包含所有的二级域名</p></li><li><p>域名+泛域名：表示一级域名和所有二级域名共用一张证书，非常省事</p></li></ul><hr><ul><li>特例：如果你把 <code>www.baidu.com</code> 二级域名作为主域名，那么你的泛域名就是三级泛解析 <code>*.www.baidu.com</code>，以此类推</li></ul></div><p><img src="'+D+'" alt="" loading="lazy"></p><p>后台就开始自动配置解析并申请了</p><p><img src="'+N+'" alt="" loading="lazy"></p><p>点击保存，并开启 <code>强制HTTPS</code></p><p><img src="'+q+'" alt="" loading="lazy"></p><p>打开网站已经有小锁了，顺便查看证书</p><p><img src="'+v+'" alt="" loading="lazy"></p></details><h2 id="吊销与续签" tabindex="-1">吊销与续签 <a class="header-anchor" href="#吊销与续签" aria-label="Permalink to &quot;吊销与续签&quot;">​</a></h2><p>因为没有证书管理界面，只能直接关闭SSL，或者用其他证书替换</p><p>宝塔默认到期前1个月会自动续签，真是棒棒</p><p><img src="'+A+'" alt="" loading="lazy"></p>',24))])}const M=a(L,[["render",H]]);export{I as __pageData,M as default};
