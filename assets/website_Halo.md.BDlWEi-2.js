import{_ as l,c as p,j as a,a as h,G as n,a4 as t,o as e,C as k}from"./chunks/framework.DBf_wRcB.js";const r="/halo/halo.png",o="/halo/halo-01.png",d="/halo/halo-02.png",c="/halo/halo-03.png",g="/halo/halo-04.png",F="/halo/halo-05.png",y="/halo/halo-06.png",C="/halo/halo-07.png",u="/halo/halo-08.png",E="/halo/halo-09.png",m="/halo/halo-10.png",b="/halo/halo-11.png",v="/halo/halo-12.png",B="/halo/halo-13.png",_="/halo/halo-14.png",f="/halo/halo-15.png",x="/halo/halo-16.png",N=JSON.parse('{"title":"Halo博客的搭建","description":"","frontmatter":{},"headers":[],"relativePath":"website/Halo.md","filePath":"website/Halo.md","lastUpdated":null}'),D={name:"website/Halo.md"};function A(q,s,z,P,H,S){const i=k("ArticleMetadata");return e(),p("div",null,[s[0]||(s[0]=a("h1",{id:"halo博客的搭建",tabindex:"-1"},[h("Halo博客的搭建 "),a("a",{class:"header-anchor",href:"#halo博客的搭建","aria-label":'Permalink to "Halo博客的搭建"'},"​")],-1)),n(i),s[1]||(s[1]=t('<h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>一款现代化的开源博客/CMS系统，界面非常美观</p><p>官网：<a href="https://halo.run/" target="_blank" rel="noreferrer">https://halo.run/</a></p><p><a href="https://demo.halo.run/" target="_blank" rel="noreferrer">演示</a> 丨 <a href="https://github.com/halo-dev/halo/" target="_blank" rel="noreferrer">仓库</a> 丨 <a href="https://docs.halo.run/" target="_blank" rel="noreferrer">文档</a></p><p><img src="'+r+'" alt="" loading="lazy"></p><h2 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h2><ul><li><p><a href="./Server/">服务器1台</a></p></li><li><p><a href="./domain/">域名1个</a></p></li><li><p><a href="./shell/">安装shell工具</a></p></li><li><p><a href="./BT.html">安装宝塔面板</a></p></li><li><p><a href="./docker.html">安装docker</a></p></li></ul><div class="tip custom-block"><p class="custom-block-title">说明</p><p>非docker安装需要安装java环境，<a href="https://bbs.halo.run/d/312-halo/9" target="_blank" rel="noreferrer">请参考此文</a></p></div><h2 id="下载配置文件" tabindex="-1">下载配置文件 <a class="header-anchor" href="#下载配置文件" aria-label="Permalink to &quot;下载配置文件&quot;">​</a></h2><p>shell登录服务器，创建工作目录</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.halo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.halo</span></span></code></pre></div><p>下载示例配置文件</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://dl.halo.run/config/application-template.yaml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./application.yaml</span></span></code></pre></div><p><img src="'+o+`" alt="" loading="lazy"></p><p>编辑配置文件，<a href="https://docs.halo.run/getting-started/config/" target="_blank" rel="noreferrer">☛ 官方配置文档参考</a></p><div class="tip custom-block"><p class="custom-block-title">说明</p><p>可以用下面命令，也可以用宝塔进目录 <code>/root/.halo</code> 修改</p></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application.yaml</span></span></code></pre></div><h3 id="端口" tabindex="-1">端口 <a class="header-anchor" href="#端口" aria-label="Permalink to &quot;端口&quot;">​</a></h3><p>默认端口8090，可以修改，但建议不要改成80端口</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">server:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  port:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8090</span></span></code></pre></div><h3 id="h2数据库" tabindex="-1">H2数据库 <a class="header-anchor" href="#h2数据库" aria-label="Permalink to &quot;H2数据库&quot;">​</a></h3><p>Halo 目前支持 H2 及 MySQL 数据库，推荐使用H2</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">spring:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  datasource:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    driver-class-name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> org.h2.Driver</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    url:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jdbc:h2:file:~/.halo/db/halo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    username:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    password:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123456</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  h2:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    console:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      settings:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        web-allow-others:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      path:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /h2-console</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      enabled:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">说明</p><p><code>url</code> 为默认的数据本地存储地址，请勿修改</p><p>数据库账户和密码默认为 <code>admin</code> 和 <code>123456</code>，请修改账密</p><p><code>h2</code> 的配置使用默认，如果需要手动修改请参考官方配置</p></div><h3 id="gzip压缩-可选" tabindex="-1">Gzip压缩(可选) <a class="header-anchor" href="#gzip压缩-可选" aria-label="Permalink to &quot;Gzip压缩(可选)&quot;">​</a></h3><p>启用压缩对于减少带宽和加快页面加载非常有用</p><p>在未使用 <code>Nginx</code> 或 <code>Caddy</code> 等反向代理服务器时(反向代理服务器通常是默认开启 Gzip 的)，可以考虑开启，将 <code>false</code> 改成 <code>true</code></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Response data gzip.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compression:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  enabled:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span></code></pre></div><h3 id="压缩-可选" tabindex="-1">压缩(可选) <a class="header-anchor" href="#压缩-可选" aria-label="Permalink to &quot;压缩(可选)&quot;">​</a></h3><p>Halo 支持自定义后台管理的根路径</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">halo:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Your admin client path is https://your-domain/{admin-path}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">admin-path:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admin</span></span></code></pre></div><h3 id="缓存-可选" tabindex="-1">缓存(可选) <a class="header-anchor" href="#缓存-可选" aria-label="Permalink to &quot;缓存(可选)&quot;">​</a></h3><p>支持两种策略：</p><p><code>memory</code> 将数据缓存至内存，重启服务缓存将清空</p><p><code>level</code> 将数据缓存至本地，重启服务不会清空缓存</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">halo:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># memory or level</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cache:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> memory</span></span></code></pre></div><h2 id="拉取镜像" tabindex="-1">拉取镜像 <a class="header-anchor" href="#拉取镜像" aria-label="Permalink to &quot;拉取镜像&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> halohub/halo:latest</span></span></code></pre></div><p><img src="`+d+`" alt="" loading="lazy"></p><h2 id="创建容器" tabindex="-1">创建容器 <a class="header-anchor" href="#创建容器" aria-label="Permalink to &quot;创建容器&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">~/.halo:/root/.halo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-p </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">8090:8090</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">--name </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">halo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">--restart=unless-stopped </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">halohub/halo:latest</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">说明</p><p><code>-it</code> 开启输入功能并连接伪终端</p><p><code>-d</code> 后台运行容器</p><p><code>-v</code> 工作目录映射，宿主机路径:/root/.halo，后者不能修改</p><p><code>-p</code> 端口映射，格式为 主机(宿主)端口:容器端口 ，可在 <code>application.yaml</code> 配置</p><p><code>--name</code> 为容器指定一个名称</p><p><code>--restart</code> 建议设置为 unless-stopped，在 Docker 启动的时候自动启动 Halo 容器</p></div><p><img src="`+c+'" alt="" loading="lazy"></p><p>如果你想域名访问网站，请看完所有步骤！！！</p><div class="tip custom-block"><p class="custom-block-title">说明</p><p>不想域名访问用IP+端口即可</p></div><p>访问前请开启8090端口</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>服务器还需去控制台-防火墙安全组放行</p></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --zone=public</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add-port=8090/tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --permanent</span></span></code></pre></div><h2 id="安装nginx" tabindex="-1">安装Nginx <a class="header-anchor" href="#安装nginx" aria-label="Permalink to &quot;安装Nginx&quot;">​</a></h2><p>宝塔软件商店搜索<code>Nginx</code>并安装</p><div class="tip custom-block"><p class="custom-block-title">说明</p><p>已装的无视</p></div><p><img src="'+g+'" alt="" loading="lazy"></p><p>网站-添加站点-输入域名，FTP 和 数据库均不创建数据库，PHP纯静态</p><p><img src="'+F+'" alt="" loading="lazy"></p><h2 id="设置ssl" tabindex="-1">设置SSL <a class="header-anchor" href="#设置ssl" aria-label="Permalink to &quot;设置SSL&quot;">​</a></h2><p>可以用宝塔的，也可以用服务器的，以腾讯服务器为例</p><div class="tip custom-block"><p class="custom-block-title">说明</p><p>SSL证书可以实现加密传输，也可以消除不安全网站提示</p></div><p>搜索SSL证书进入，申请免费证书</p><p><img src="'+y+'" alt="" loading="lazy"></p><p><img src="'+C+'" alt="" loading="lazy"></p><p>填写域名信息，即可申请成功后，下载Nginx格式</p><p><img src="'+u+'" alt="" loading="lazy"></p><p><img src="'+E+'" alt="" loading="lazy"></p><p>宝塔网站-域名-SSL-其他证书，这里需要 <code>KEY</code> 和 <code>PEM</code></p><p>我们从下载的安装包里找到对应文件，记事本方式打开复制粘贴进去，保存</p><p><img src="'+m+'" alt="" loading="lazy"></p><h2 id="修改配置文件" tabindex="-1">修改配置文件 <a class="header-anchor" href="#修改配置文件" aria-label="Permalink to &quot;修改配置文件&quot;">​</a></h2><p>宝塔网站-域名-配置文件，把下面这一段加在第一行</p><p><img src="'+b+`" alt="" loading="lazy"></p><div class="tip custom-block"><p class="custom-block-title">说明</p><p>8090为运行端口</p></div><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">upstream</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> halo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 127.0.0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8090</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>下拉找到location，修改成为下面这样</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#修改前</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">location</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> .</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\\</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">gif</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">jpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">jpeg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">png</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">bmp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">swf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)$</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    proxy_pass</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//halo;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    expires</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      30d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    error_log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dev</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    access_log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> off</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#修改后</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">location</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> .</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\\</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">css</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    proxy_pass</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//halo;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    expires</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      12h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    error_log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dev</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    access_log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> off</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>然后在js|css下方，<code>access_log</code>之上添加这一整段，保存即可</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">location</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    proxy_pass</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//halo;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    proxy_set_header</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> HOST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $host;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    proxy_set_header</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> X</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Forwarded</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Proto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $scheme;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    proxy_set_header</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> X</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-Real-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">IP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $remote_addr;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    proxy_set_header</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> X</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Forwarded</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">For</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>参考示例如图</p><p><img src="`+v+'" alt="" loading="lazy"></p><h2 id="访问域名并安装" tabindex="-1">访问域名并安装 <a class="header-anchor" href="#访问域名并安装" aria-label="Permalink to &quot;访问域名并安装&quot;">​</a></h2><p>访问域名成功进入安装引导界面，自行填写信息即可</p><div class="tip custom-block"><p class="custom-block-title">说明</p><p>这里的账密是后台登录用的，自己记好</p></div><p><img src="'+B+'" alt="" loading="lazy"></p><p>后台登录：<code>http://域名/admin</code></p><p><img src="'+_+'" alt="" loading="lazy"></p><h2 id="更换主题" tabindex="-1">更换主题 <a class="header-anchor" href="#更换主题" aria-label="Permalink to &quot;更换主题&quot;">​</a></h2><p>主题商店：<a href="https://halo.run/themes.html" target="_blank" rel="noreferrer">https://halo.run/themes.html</a></p><p><img src="'+f+'" alt="" loading="lazy"></p><p>启用上传的主题包即可，更新方法也是一样</p><p><img src="'+x+'" alt="" loading="lazy"></p><h2 id="特别鸣谢" tabindex="-1">特别鸣谢 <a class="header-anchor" href="#特别鸣谢" aria-label="Permalink to &quot;特别鸣谢&quot;">​</a></h2><ul><li><p><a href="https://github.com/halo-dev/halo/" target="_blank" rel="noreferrer">halo</a></p></li><li><p><a href="https://halo.run/" target="_blank" rel="noreferrer">halo官网</a></p></li><li><p><a href="https://github.com/xzhuz/halo-theme-xue/" target="_blank" rel="noreferrer">xzhuz</a>「雪主题」</p></li></ul>',91))])}const $=l(D,[["render",A]]);export{N as __pageData,$ as default};
